(function(){"use strict";var e={1862:function(e,t,o){var n=o(9242),r=o(3396);function l(e,t,o,n,l,a){const i=(0,r.up)("Navbar"),c=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i),(0,r.Wm)(c)],64)}var a=o(7139);const i=e=>((0,r.dD)("data-v-f1f6c0da"),e=e(),(0,r.Cn)(),e),c={class:"main-nav"},s={class:"date"},u=i((()=>(0,r._)("button",null,"+",-1)));function d(e,t,o,n,l,i){const d=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(d,{to:{name:"Home"}},{default:(0,r.w5)((()=>[(0,r._)("h1",s,(0,a.zw)(i.getDate()),1)])),_:1}),(0,r.Wm)(d,{to:{name:"AddProjects"}},{default:(0,r.w5)((()=>[u])),_:1})])}var p={methods:{getDate(){const e=new Date,t={weekday:"long",day:"numeric",month:"long"};return e.toLocaleDateString("en-us",t)}}},v=o(89);const f=(0,v.Z)(p,[["render",d],["__scopeId","data-v-f1f6c0da"]]);var m=f,h={components:{Navbar:m}};const g=(0,v.Z)(h,[["render",l]]);var j=g,w=o(2483);const y={key:0,class:"home"},b={key:0},_={key:1};function D(e,t,o,n,l,a){const i=(0,r.up)("FilterNav"),c=(0,r.up)("SingleProject");return n.loading?((0,r.wg)(),(0,r.iD)("div",_,"Loading...")):((0,r.wg)(),(0,r.iD)("div",y,[(0,r.Wm)(i,{onUpdateFilter:n.updateFilter},null,8,["onUpdateFilter"]),n.filteredProjects.length?((0,r.wg)(),(0,r.iD)("div",b,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.filteredProjects,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(c,{project:e,onDelete:n.handleDelete,onComplete:n.handleComplete},null,8,["project","onDelete","onComplete"])])))),128))])):(0,r.kq)("",!0)]))}const k={class:"actions"},P={class:"icons"},C=(0,r._)("span",{class:"material-icons"},"edit",-1),S={key:0,class:"details"};function F(e,t,o,n,l,i){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",{class:(0,a.C_)(["project",{completed:o.project.completed}])},[(0,r._)("div",k,[(0,r._)("p",{onClick:t[0]||(t[0]=e=>l.showDetails=!l.showDetails)},(0,a.zw)(o.project.title),1),(0,r._)("div",P,[(0,r.Wm)(c,{to:{name:"EditProject",params:{id:o.project.id}}},{default:(0,r.w5)((()=>[C])),_:1},8,["to"]),(0,r._)("span",{class:"material-icons",onClick:t[1]||(t[1]=(...e)=>i.deleteProject&&i.deleteProject(...e))},"delete"),(0,r._)("span",{class:"material-icons tick",onClick:t[2]||(t[2]=(...e)=>i.finish&&i.finish(...e))},"done")])]),l.showDetails?((0,r.wg)(),(0,r.iD)("div",S,[(0,r._)("p",null,(0,a.zw)(o.project.details),1)])):(0,r.kq)("",!0)],2)}var O=o(1509);o(956),o(476);const H={apiKey:"AIzaSyAfAdJa0TnQe95YNI5mDTuqSQPIWErl4EE",authDomain:"yousef-firebase-ae727.firebaseapp.com",projectId:"yousef-firebase-ae727",storageBucket:"yousef-firebase-ae727.appspot.com",messagingSenderId:"805319693962",appId:"1:805319693962:web:90d5e2ae6e3d97d0a17f73"};O.Z.initializeApp(H);const x=O.Z.firestore();O.Z.firestore.FieldValue.serverTimestamp;var Z={props:["project"],data(){return{showDetails:!1}},methods:{async deleteProject(){await x.collection("projects").doc(this.project.id).delete(),this.$emit("delete",this.project.id)},async finish(){try{const e=x.collection("projects").doc(this.project.id);await e.update({completed:!this.project.completed}),this.$emit("complete",this.project.id)}catch(e){console.error("Error updating project completion status in Firestore:",e)}}}};const T=(0,v.Z)(Z,[["render",F]]);var A=T;const E={class:"filter-nav"};function W(e,t,o,n,l,i){return(0,r.wg)(),(0,r.iD)("nav",E,[(0,r._)("button",{onClick:t[0]||(t[0]=e=>i.updateFilter("all")),class:(0,a.C_)({active:"all"===l.current})}," View all ",2),(0,r._)("button",{onClick:t[1]||(t[1]=e=>i.updateFilter("completed")),class:(0,a.C_)({active:"completed"===l.current})}," Completed ",2),(0,r._)("button",{onClick:t[2]||(t[2]=e=>i.updateFilter("ongoing")),class:(0,a.C_)({active:"ongoing"===l.current})}," Ongoing ",2)])}var q={data(){return{current:"all"}},methods:{updateFilter(e){this.$emit("updateFilter",e),this.current=e}}};const I=(0,v.Z)(q,[["render",W]]);var U=I,V=o(4870);const z=()=>{const e=(0,V.iH)([]),t=(0,V.iH)(null),o=async()=>{try{const t=await x.collection("projects").get();e.value=t.docs.map((e=>({...e.data(),id:e.id})))}catch(o){t.value=o.message,console.log(t.value)}};return{posts:e,error:t,load:o}};var M=z,N={name:"HomeView",components:{SingleProject:A,FilterNav:U},setup(){const{posts:e,error:t,load:o}=M(),n=(0,V.iH)([]),l=(0,V.iH)("all"),a=(0,V.iH)(!1);(0,r.bv)((async()=>{a.value=!0,await o(),a.value=!1,n.value=e.value}));const i=e=>{console.log("del",e),n.value=n.value.filter((t=>t.id!==e))},c=e=>{const t=n.value.find((t=>t.id===e));console.log("com",e),t&&(t.completed=!t.completed)},s=e=>{l.value=e},u=(0,r.Fl)((()=>"completed"===l.value?n.value.filter((e=>e.completed)):"ongoing"===l.value?n.value.filter((e=>!e.completed)):n.value));return{projects:n,current:l,handleDelete:i,handleComplete:c,updateFilter:s,filteredProjects:u,loading:a}}};const $=(0,v.Z)(N,[["render",D]]);var Y=$;const K=(0,r._)("label",null,"Title",-1),L=(0,r._)("label",null,"Details",-1),Q=(0,r._)("button",null,"Add Project",-1);function B(e,t,o,l,a,i){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"]))},[K,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.title=e),required:""},null,512),[[n.nr,a.title]]),L,(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.details=e),required:""},null,512),[[n.nr,a.details]]),Q],32)}o(560);var J={data(){return{title:"",details:""}},methods:{async handleSubmit(){await x.collection("projects").add({title:this.title,details:this.details,completed:!1}),this.$router.push("/")}}};const G=(0,v.Z)(J,[["render",B]]);var R=G;const X=(0,r._)("label",null,"Title",-1),ee=(0,r._)("label",null,"Details",-1),te=(0,r._)("button",null,"Update Project",-1);function oe(e,t,o,l,a,i){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...e)=>l.update&&l.update(...e)),["prevent"]))},[X,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.title=e),required:""},null,512),[[n.nr,l.title]]),ee,(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.details=e),required:""},null,512),[[n.nr,l.details]]),te],32)}let ne=e=>{let t=(0,V.iH)(null),o=(0,V.iH)(null),n=async()=>{try{let o=await x.collection("projects").doc(e).get();if(!o.exists)throw console.log(o),Error("this post does not exist");t.value={...o.data(),id:e}}catch(n){o.value=n.message,console.log(o.value)}};return{post:t,error:o,load:n}};var re=ne,le={props:["id"],setup(e){const t=(0,V.iH)(""),o=(0,V.iH)(""),n=(0,w.tv)(),{post:r,error:l,load:a}=re(e.id),i=async()=>{await a(),t.value=r.value.title,o.value=r.value.details},c=async()=>{await x.collection("projects").doc(e.id).update({title:t.value,details:o.value}),n.push("/")};return i(),{title:t,details:o,fetchPost:i,update:c}}};const ae=(0,v.Z)(le,[["render",oe]]);var ie=ae;const ce=[{path:"/",name:"Home",component:Y},{path:"/AddProjects",name:"AddProjects",component:R},{path:"/projects/:id",name:"EditProject",component:ie,props:!0}],se=(0,w.p7)({history:(0,w.PO)("/project-planner/"),routes:ce});var ue=se;(0,n.ri)(j).use(ue).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,l){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],l=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&l||a>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,r,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,l,a=n[0],i=n[1],c=n[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var u=c(o)}for(t&&t(n);s<a.length;s++)l=a[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},n=self["webpackChunkproject_planner"]=self["webpackChunkproject_planner"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1862)}));n=o.O(n)})();
//# sourceMappingURL=app.2f3daafe.js.map